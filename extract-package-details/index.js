var He=Object.create;var J=Object.defineProperty,Ze=Object.defineProperties,et=Object.getOwnPropertyDescriptor,tt=Object.getOwnPropertyDescriptors,rt=Object.getOwnPropertyNames,le=Object.getOwnPropertySymbols,nt=Object.getPrototypeOf,he=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable;var fe=(t,e,r)=>e in t?J(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,de=(t,e)=>{for(var r in e||(e={}))he.call(e,r)&&fe(t,r,e[r]);if(le)for(var r of le(e))st.call(e,r)&&fe(t,r,e[r]);return t},pe=(t,e)=>Ze(t,tt(e));var p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var it=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of rt(e))!he.call(t,s)&&s!==r&&J(t,s,{get:()=>e[s],enumerable:!(n=et(e,s))||n.enumerable});return t};var z=(t,e,r)=>(r=t!=null?He(nt(t)):{},it(e||!t||!t.__esModule?J(r,"default",{value:t,enumerable:!0}):r,t));var _e=p(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0})});var j=p(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.toCommandProperties=q.toCommandValue=void 0;function ot(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}q.toCommandValue=ot;function at(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}q.toCommandProperties=at});var Oe=p(_=>{"use strict";var ut=_&&_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ct=_&&_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lt=_&&_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&ut(e,t,r);return ct(e,t),e};Object.defineProperty(_,"__esModule",{value:!0});_.issue=_.issueCommand=void 0;var ft=lt(require("os")),we=j();function ye(t,e,r){let n=new Q(t,e,r);process.stdout.write(n.toString()+ft.EOL)}_.issueCommand=ye;function ht(t,e=""){ye(t,{},e)}_.issue=ht;var ve="::",Q=class{constructor(e,r,n){e||(e="missing.command"),this.command=e,this.properties=r,this.message=n}toString(){let e=ve+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let s=this.properties[n];s&&(r?r=!1:e+=",",e+=`${n}=${pt(s)}`)}}return e+=`${ve}${dt(this.message)}`,e}};function dt(t){return we.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function pt(t){return we.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var Ee=p(O=>{"use strict";var mt=O&&O.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gt=O&&O.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Re=O&&O.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&mt(e,t,r);return gt(e,t),e};Object.defineProperty(O,"__esModule",{value:!0});O.issueCommand=void 0;var be=Re(require("fs")),_t=Re(require("os")),vt=j();function wt(t,e){let r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!be.existsSync(r))throw new Error(`Missing file at path: ${r}`);be.appendFileSync(r,`${vt.toCommandValue(e)}${_t.EOL}`,{encoding:"utf8"})}O.issueCommand=wt});var Ae=p(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});function yt(t){let e=t.protocol==="https:",r;if(Se(t))return r;let n;return e?n=process.env.https_proxy||process.env.HTTPS_PROXY:n=process.env.http_proxy||process.env.HTTP_PROXY,n&&(r=new URL(n)),r}N.getProxyUrl=yt;function Se(t){if(!t.hostname)return!1;let e=process.env.no_proxy||process.env.NO_PROXY||"";if(!e)return!1;let r;t.port?r=Number(t.port):t.protocol==="http:"?r=80:t.protocol==="https:"&&(r=443);let n=[t.hostname.toUpperCase()];typeof r=="number"&&n.push(`${n[0]}:${r}`);for(let s of e.split(",").map(i=>i.trim().toUpperCase()).filter(i=>i))if(n.some(i=>i===s))return!0;return!1}N.checkBypass=Se});var Me=p(P=>{"use strict";var _r=require("net"),Ot=require("tls"),W=require("http"),Te=require("https"),bt=require("events"),vr=require("assert"),Rt=require("util");P.httpOverHttp=Et;P.httpsOverHttp=St;P.httpOverHttps=At;P.httpsOverHttps=Tt;function Et(t){var e=new b(t);return e.request=W.request,e}function St(t){var e=new b(t);return e.request=W.request,e.createSocket=qe,e.defaultPort=443,e}function At(t){var e=new b(t);return e.request=Te.request,e}function Tt(t){var e=new b(t);return e.request=Te.request,e.createSocket=qe,e.defaultPort=443,e}function b(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||W.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(n,s,i,o){for(var a=Pe(s,i,o),l=0,c=e.requests.length;l<c;++l){var f=e.requests[l];if(f.host===a.host&&f.port===a.port){e.requests.splice(l,1),f.request.onSocket(n);return}}n.destroy(),e.removeSocket(n)})}Rt.inherits(b,bt.EventEmitter);b.prototype.addRequest=function(e,r,n,s){var i=this,o=X({request:e},i.options,Pe(r,n,s));if(i.sockets.length>=this.maxSockets){i.requests.push(o);return}i.createSocket(o,function(a){a.on("free",l),a.on("close",c),a.on("agentRemove",c),e.onSocket(a);function l(){i.emit("free",a,o)}function c(f){i.removeSocket(a),a.removeListener("free",l),a.removeListener("close",c),a.removeListener("agentRemove",c)}})};b.prototype.createSocket=function(e,r){var n=this,s={};n.sockets.push(s);var i=X({},n.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(i.localAddress=e.localAddress),i.proxyAuth&&(i.headers=i.headers||{},i.headers["Proxy-Authorization"]="Basic "+new Buffer(i.proxyAuth).toString("base64")),E("making CONNECT request");var o=n.request(i);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",l),o.once("connect",c),o.once("error",f),o.end();function a(h){h.upgrade=!0}function l(h,d,T){process.nextTick(function(){c(h,d,T)})}function c(h,d,T){if(o.removeAllListeners(),d.removeAllListeners(),h.statusCode!==200){E("tunneling socket could not be established, statusCode=%d",h.statusCode),d.destroy();var k=new Error("tunneling socket could not be established, statusCode="+h.statusCode);k.code="ECONNRESET",e.request.emit("error",k),n.removeSocket(s);return}if(T.length>0){E("got illegal response body from proxy"),d.destroy();var k=new Error("got illegal response body from proxy");k.code="ECONNRESET",e.request.emit("error",k),n.removeSocket(s);return}return E("tunneling connection has established"),n.sockets[n.sockets.indexOf(s)]=d,r(d)}function f(h){o.removeAllListeners(),E(`tunneling socket could not be established, cause=%s
`,h.message,h.stack);var d=new Error("tunneling socket could not be established, cause="+h.message);d.code="ECONNRESET",e.request.emit("error",d),n.removeSocket(s)}};b.prototype.removeSocket=function(e){var r=this.sockets.indexOf(e);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(s){n.request.onSocket(s)})}};function qe(t,e){var r=this;b.prototype.createSocket.call(r,t,function(n){var s=t.request.getHeader("host"),i=X({},r.options,{socket:n,servername:s?s.replace(/:.*$/,""):t.host}),o=Ot.connect(0,i);r.sockets[r.sockets.indexOf(n)]=o,e(o)})}function Pe(t,e,r){return typeof t=="string"?{host:t,port:e,localAddress:r}:t}function X(t){for(var e=1,r=arguments.length;e<r;++e){var n=arguments[e];if(typeof n=="object")for(var s=Object.keys(n),i=0,o=s.length;i<o;++i){var a=s[i];n[a]!==void 0&&(t[a]=n[a])}}return t}var E;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?E=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:E=function(){};P.debug=E});var xe=p((yr,Ue)=>{Ue.exports=Me()});var Ie=p(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var L=require("http"),H=require("https"),ke=Ae(),M,y;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(y=g.HttpCodes||(g.HttpCodes={}));var m;(function(t){t.Accept="accept",t.ContentType="content-type"})(m=g.Headers||(g.Headers={}));var S;(function(t){t.ApplicationJson="application/json"})(S=g.MediaTypes||(g.MediaTypes={}));function qt(t){let e=ke.getProxyUrl(new URL(t));return e?e.href:""}g.getProxyUrl=qt;var Pt=[y.MovedPermanently,y.ResourceMoved,y.SeeOther,y.TemporaryRedirect,y.PermanentRedirect],Mt=[y.BadGateway,y.ServiceUnavailable,y.GatewayTimeout],Ut=["OPTIONS","GET","DELETE","HEAD"],xt=10,kt=5,U=class extends Error{constructor(e,r){super(e),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,U.prototype)}};g.HttpClientError=U;var B=class{constructor(e){this.message=e}readBody(){return new Promise(async(e,r)=>{let n=Buffer.alloc(0);this.message.on("data",s=>{n=Buffer.concat([n,s])}),this.message.on("end",()=>{e(n.toString())})})}};g.HttpClientResponse=B;function It(t){return new URL(t).protocol==="https:"}g.isHttps=It;var I=class{constructor(e,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(e,r){return this.request("OPTIONS",e,null,r||{})}get(e,r){return this.request("GET",e,null,r||{})}del(e,r){return this.request("DELETE",e,null,r||{})}post(e,r,n){return this.request("POST",e,r,n||{})}patch(e,r,n){return this.request("PATCH",e,r,n||{})}put(e,r,n){return this.request("PUT",e,r,n||{})}head(e,r){return this.request("HEAD",e,null,r||{})}sendStream(e,r,n,s){return this.request(e,r,n,s)}async getJson(e,r={}){r[m.Accept]=this._getExistingOrDefaultHeader(r,m.Accept,S.ApplicationJson);let n=await this.get(e,r);return this._processResponse(n,this.requestOptions)}async postJson(e,r,n={}){let s=JSON.stringify(r,null,2);n[m.Accept]=this._getExistingOrDefaultHeader(n,m.Accept,S.ApplicationJson),n[m.ContentType]=this._getExistingOrDefaultHeader(n,m.ContentType,S.ApplicationJson);let i=await this.post(e,s,n);return this._processResponse(i,this.requestOptions)}async putJson(e,r,n={}){let s=JSON.stringify(r,null,2);n[m.Accept]=this._getExistingOrDefaultHeader(n,m.Accept,S.ApplicationJson),n[m.ContentType]=this._getExistingOrDefaultHeader(n,m.ContentType,S.ApplicationJson);let i=await this.put(e,s,n);return this._processResponse(i,this.requestOptions)}async patchJson(e,r,n={}){let s=JSON.stringify(r,null,2);n[m.Accept]=this._getExistingOrDefaultHeader(n,m.Accept,S.ApplicationJson),n[m.ContentType]=this._getExistingOrDefaultHeader(n,m.ContentType,S.ApplicationJson);let i=await this.patch(e,s,n);return this._processResponse(i,this.requestOptions)}async request(e,r,n,s){if(this._disposed)throw new Error("Client has already been disposed.");let i=new URL(r),o=this._prepareRequest(e,i,s),a=this._allowRetries&&Ut.indexOf(e)!=-1?this._maxRetries+1:1,l=0,c;for(;l<a;){if(c=await this.requestRaw(o,n),c&&c.message&&c.message.statusCode===y.Unauthorized){let h;for(let d=0;d<this.handlers.length;d++)if(this.handlers[d].canHandleAuthentication(c)){h=this.handlers[d];break}return h?h.handleAuthentication(this,o,n):c}let f=this._maxRedirects;for(;Pt.indexOf(c.message.statusCode)!=-1&&this._allowRedirects&&f>0;){let h=c.message.headers.location;if(!h)break;let d=new URL(h);if(i.protocol=="https:"&&i.protocol!=d.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(await c.readBody(),d.hostname!==i.hostname)for(let T in s)T.toLowerCase()==="authorization"&&delete s[T];o=this._prepareRequest(e,d,s),c=await this.requestRaw(o,n),f--}if(Mt.indexOf(c.message.statusCode)==-1)return c;l+=1,l<a&&(await c.readBody(),await this._performExponentialBackoff(l))}return c}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,r){return new Promise((n,s)=>{let i=function(o,a){o&&s(o),n(a)};this.requestRawWithCallback(e,r,i)})}requestRawWithCallback(e,r,n){let s;typeof r=="string"&&(e.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1,o=(l,c)=>{i||(i=!0,n(l,c))},a=e.httpModule.request(e.options,l=>{let c=new B(l);o(null,c)});a.on("socket",l=>{s=l}),a.setTimeout(this._socketTimeout||3*6e4,()=>{s&&s.end(),o(new Error("Request timeout: "+e.options.path),null)}),a.on("error",function(l){o(l,null)}),r&&typeof r=="string"&&a.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){a.end()}),r.pipe(a)):a.end()}getAgent(e){let r=new URL(e);return this._getAgent(r)}_prepareRequest(e,r,n){let s={};s.parsedUrl=r;let i=s.parsedUrl.protocol==="https:";s.httpModule=i?H:L;let o=i?443:80;return s.options={},s.options.host=s.parsedUrl.hostname,s.options.port=s.parsedUrl.port?parseInt(s.parsedUrl.port):o,s.options.path=(s.parsedUrl.pathname||"")+(s.parsedUrl.search||""),s.options.method=e,s.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(s.options.headers["user-agent"]=this.userAgent),s.options.agent=this._getAgent(s.parsedUrl),this.handlers&&this.handlers.forEach(a=>{a.prepareRequest(s.options)}),s}_mergeHeaders(e){let r=n=>Object.keys(n).reduce((s,i)=>(s[i.toLowerCase()]=n[i],s),{});return this.requestOptions&&this.requestOptions.headers?Object.assign({},r(this.requestOptions.headers),r(e)):r(e||{})}_getExistingOrDefaultHeader(e,r,n){let s=o=>Object.keys(o).reduce((a,l)=>(a[l.toLowerCase()]=o[l],a),{}),i;return this.requestOptions&&this.requestOptions.headers&&(i=s(this.requestOptions.headers)[r]),e[r]||i||n}_getAgent(e){let r,n=ke.getProxyUrl(e),s=n&&n.hostname;if(this._keepAlive&&s&&(r=this._proxyAgent),this._keepAlive&&!s&&(r=this._agent),r)return r;let i=e.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||L.globalAgent.maxSockets),s){M||(M=xe());let a={maxSockets:o,keepAlive:this._keepAlive,proxy:pe(de({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},l,c=n.protocol==="https:";i?l=c?M.httpsOverHttps:M.httpsOverHttp:l=c?M.httpOverHttps:M.httpOverHttp,r=l(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:o};r=i?new H.Agent(a):new L.Agent(a),this._agent=r}return r||(r=i?H.globalAgent:L.globalAgent),i&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(e){e=Math.min(xt,e);let r=kt*Math.pow(2,e);return new Promise(n=>setTimeout(()=>n(),r))}static dateTimeDeserializer(e,r){if(typeof r=="string"){let n=new Date(r);if(!isNaN(n.valueOf()))return n}return r}async _processResponse(e,r){return new Promise(async(n,s)=>{let i=e.message.statusCode,o={statusCode:i,result:null,headers:{}};i==y.NotFound&&n(o);let a,l;try{l=await e.readBody(),l&&l.length>0&&(r&&r.deserializeDates?a=JSON.parse(l,I.dateTimeDeserializer):a=JSON.parse(l),o.result=a),o.headers=e.message.headers}catch{}if(i>299){let c;a&&a.message?c=a.message:l&&l.length>0?c=l:c="Failed request: ("+i+")";let f=new U(c,i);f.result=o.result,s(f)}else n(o)})}};g.HttpClient=I});var Ce=p(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});var Z=class{constructor(e,r){this.username=e,this.password=r}prepareRequest(e){e.headers.Authorization="Basic "+Buffer.from(this.username+":"+this.password).toString("base64")}canHandleAuthentication(e){return!1}handleAuthentication(e,r,n){return null}};C.BasicCredentialHandler=Z;var ee=class{constructor(e){this.token=e}prepareRequest(e){e.headers.Authorization="Bearer "+this.token}canHandleAuthentication(e){return!1}handleAuthentication(e,r,n){return null}};C.BearerCredentialHandler=ee;var te=class{constructor(e){this.token=e}prepareRequest(e){e.headers.Authorization="Basic "+Buffer.from("PAT:"+this.token).toString("base64")}canHandleAuthentication(e){return!1}handleAuthentication(e,r,n){return null}};C.PersonalAccessTokenCredentialHandler=te});var Ne=p(x=>{"use strict";var De=x&&x.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(h){o(h)}}function l(f){try{c(n.throw(f))}catch(h){o(h)}}function c(f){f.done?i(f.value):s(f.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(x,"__esModule",{value:!0});x.OidcClient=void 0;var Ct=Ie(),Dt=Ce(),je=re(),A=class{static createHttpClient(e=!0,r=10){let n={allowRetries:e,maxRetries:r};return new Ct.HttpClient("actions/oidc-client",[new Dt.BearerCredentialHandler(A.getRequestToken())],n)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var r;return De(this,void 0,void 0,function*(){let i=(r=(yield A.createHttpClient().getJson(e).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!i)throw new Error("Response json body do not have ID Token field");return i})}static getIDToken(e){return De(this,void 0,void 0,function*(){try{let r=A.getIDTokenUrl();if(e){let s=encodeURIComponent(e);r=`${r}&audience=${s}`}je.debug(`ID token url is ${r}`);let n=yield A.getCall(r);return je.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};x.OidcClient=A});var Le=p(v=>{"use strict";var ne=v&&v.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(h){o(h)}}function l(f){try{c(n.throw(f))}catch(h){o(h)}}function c(f){f.done?i(f.value):s(f.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(v,"__esModule",{value:!0});v.markdownSummary=v.SUMMARY_DOCS_URL=v.SUMMARY_ENV_VAR=void 0;var jt=require("os"),se=require("fs"),{access:Nt,appendFile:Lt,writeFile:Bt}=se.promises;v.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";v.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-markdown-summary";var ie=class{constructor(){this._buffer=""}filePath(){return ne(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[v.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${v.SUMMARY_ENV_VAR}. Check if your runtime environment supports markdown summaries.`);try{yield Nt(e,se.constants.R_OK|se.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,r,n={}){let s=Object.entries(n).map(([i,o])=>` ${i}="${o}"`).join("");return r?`<${e}${s}>${r}</${e}>`:`<${e}${s}>`}write(e){return ne(this,void 0,void 0,function*(){let r=!!(e!=null&&e.overwrite),n=yield this.filePath();return yield(r?Bt:Lt)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return ne(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(e,r=!1){return this._buffer+=e,r?this.addEOL():this}addEOL(){return this.addRaw(jt.EOL)}addCodeBlock(e,r){let n=Object.assign({},r&&{lang:r}),s=this.wrap("pre",this.wrap("code",e),n);return this.addRaw(s).addEOL()}addList(e,r=!1){let n=r?"ol":"ul",s=e.map(o=>this.wrap("li",o)).join(""),i=this.wrap(n,s);return this.addRaw(i).addEOL()}addTable(e){let r=e.map(s=>{let i=s.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:a,data:l,colspan:c,rowspan:f}=o,h=a?"th":"td",d=Object.assign(Object.assign({},c&&{colspan:c}),f&&{rowspan:f});return this.wrap(h,l,d)}).join("");return this.wrap("tr",i)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(e,r){let n=this.wrap("details",this.wrap("summary",e)+r);return this.addRaw(n).addEOL()}addImage(e,r,n){let{width:s,height:i}=n||{},o=Object.assign(Object.assign({},s&&{width:s}),i&&{height:i}),a=this.wrap("img",null,Object.assign({src:e,alt:r},o));return this.addRaw(a).addEOL()}addHeading(e,r){let n=`h${r}`,s=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",i=this.wrap(s,e);return this.addRaw(i).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,r){let n=Object.assign({},r&&{cite:r}),s=this.wrap("blockquote",e,n);return this.addRaw(s).addEOL()}addLink(e,r){let n=this.wrap("a",e,{href:r});return this.addRaw(n).addEOL()}};v.markdownSummary=new ie});var re=p(u=>{"use strict";var $t=u&&u.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ft=u&&u.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Be=u&&u.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&$t(e,t,r);return Ft(e,t),e},$e=u&&u.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(h){o(h)}}function l(f){try{c(n.throw(f))}catch(h){o(h)}}function c(f){f.done?i(f.value):s(f.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0});u.getIDToken=u.getState=u.saveState=u.group=u.endGroup=u.startGroup=u.info=u.notice=u.warning=u.error=u.debug=u.isDebug=u.setFailed=u.setCommandEcho=u.setOutput=u.getBooleanInput=u.getMultilineInput=u.getInput=u.addPath=u.setSecret=u.exportVariable=u.ExitCode=void 0;var w=Oe(),Fe=Ee(),F=j(),$=Be(require("os")),Gt=Be(require("path")),Vt=Ne(),Ge;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(Ge=u.ExitCode||(u.ExitCode={}));function Jt(t,e){let r=F.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV||""){let s="_GitHubActionsFileCommandDelimeter_",i=`${t}<<${s}${$.EOL}${r}${$.EOL}${s}`;Fe.issueCommand("ENV",i)}else w.issueCommand("set-env",{name:t},r)}u.exportVariable=Jt;function zt(t){w.issueCommand("add-mask",{},t)}u.setSecret=zt;function Kt(t){process.env.GITHUB_PATH||""?Fe.issueCommand("PATH",t):w.issueCommand("add-path",{},t),process.env.PATH=`${t}${Gt.delimiter}${process.env.PATH}`}u.addPath=Kt;function oe(t,e){let r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return e&&e.trimWhitespace===!1?r:r.trim()}u.getInput=oe;function Yt(t,e){return oe(t,e).split(`
`).filter(n=>n!=="")}u.getMultilineInput=Yt;function Qt(t,e){let r=["true","True","TRUE"],n=["false","False","FALSE"],s=oe(t,e);if(r.includes(s))return!0;if(n.includes(s))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}u.getBooleanInput=Qt;function Wt(t,e){process.stdout.write($.EOL),w.issueCommand("set-output",{name:t},e)}u.setOutput=Wt;function Xt(t){w.issue("echo",t?"on":"off")}u.setCommandEcho=Xt;function Ht(t){process.exitCode=Ge.Failure,Ve(t)}u.setFailed=Ht;function Zt(){return process.env.RUNNER_DEBUG==="1"}u.isDebug=Zt;function er(t){w.issueCommand("debug",{},t)}u.debug=er;function Ve(t,e={}){w.issueCommand("error",F.toCommandProperties(e),t instanceof Error?t.toString():t)}u.error=Ve;function tr(t,e={}){w.issueCommand("warning",F.toCommandProperties(e),t instanceof Error?t.toString():t)}u.warning=tr;function rr(t,e={}){w.issueCommand("notice",F.toCommandProperties(e),t instanceof Error?t.toString():t)}u.notice=rr;function nr(t){process.stdout.write(t+$.EOL)}u.info=nr;function Je(t){w.issue("group",t)}u.startGroup=Je;function ze(){w.issue("endgroup")}u.endGroup=ze;function sr(t,e){return $e(this,void 0,void 0,function*(){Je(t);let r;try{r=yield e()}finally{ze()}return r})}u.group=sr;function ir(t,e){w.issueCommand("save-state",{name:t},e)}u.saveState=ir;function or(t){return process.env[`STATE_${t}`]||""}u.getState=or;function ar(t){return $e(this,void 0,void 0,function*(){return yield Vt.OidcClient.getIDToken(t)})}u.getIDToken=ar;var ur=Le();Object.defineProperty(u,"markdownSummary",{enumerable:!0,get:function(){return ur.markdownSummary}})});var Ke=p(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.GitHubActionsContextImpl=void 0;var D=re(),ae=class{getInput(e,r){return(0,D.getInput)(e,r)}getMultilineInput(e,r){return(0,D.getMultilineInput)(e,r)}setOutput(e,r){return(0,D.setOutput)(e,r)}setFailed(e){return(0,D.setFailed)(e)}info(e){return(0,D.info)(e)}};G.GitHubActionsContextImpl=ae});var Qe=p(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.TestGitHubActionContext=void 0;var Ye=require("os"),ue=class{constructor(){this.inputs={},this.outputs={}}addInput(e,r){this.inputs[e]=r}addMultilineInput(e,r){let n="";for(let s of r)n!==""&&(n+=Ye.EOL),n+=s;this.inputs[e]=n}getOutputs(){return this.outputs}getFailureMessage(){return this.failureMessage}getInput(e,r){let n=this.inputs[e];if(n===void 0&&(r==null?void 0:r.required)===!0)throw new Error(`Input required and not supplied: ${e}`);return n||""}getMultilineInput(e,r){let n=this.getInput(e,r);return n===""?[]:n.split(Ye.EOL)}setOutput(e,r){this.outputs[e]=r}setFailed(e){this.failureMessage=e}info(e){console.log(e)}};V.TestGitHubActionContext=ue});var We=p(R=>{"use strict";var cr=R&&R.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ce=R&&R.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&cr(e,t,r)};Object.defineProperty(R,"__esModule",{value:!0});ce(_e(),R);ce(Ke(),R);ce(Qe(),R)});var K=z(require("path")),Y=z(require("fs"));function me(t){try{let e=t.getInput("path");if(e==="")throw new Error("Path must be provided");if(e=K.default.resolve(e),!Y.default.existsSync(e))throw new Error(`Folder at '${e}' does not exist.`);let r=K.default.join(e,"package.json");if(!Y.default.existsSync(r))throw new Error(`File at '${r}' does not exist.`);let n=require(r),s=n.name.toString(),i=n.version.toString();t.setOutput("name",s),t.setOutput("version",i)}catch(e){t.setFailed(e.message)}}var Xe=z(We());me(new Xe.GitHubActionsContextImpl);
